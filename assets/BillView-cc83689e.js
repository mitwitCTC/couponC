import{_ as p,v as r,r as b,o as a,c as d,a as s,t as c,b as i,d as h,n as f,e as x,w as y,f as _,g as m,F as v}from"./index-ad5a9599.js";const g="/couponC/assets/icons8-info-success-38adac5f.svg";const M={data(){return{bill:{station:"群和智慧MitWit",plate:"",fee:"180",arr_time:"2023-09-05 13:30:00"},isScan:!0,discount:{qrcode:"",amount:""}}},components:{QrStream:r.QrStream,QrCapture:r.QrCapture,QrDropzone:r.QrDropzone},methods:{search(){this.bill.plate=localStorage.getItem("plate"),console.log(this.discount)},openModal(){const e=this.$refs.discountModal;e&&new bootstrap.Modal(e).show()},scanInput(){this.isScan=!this.isScan},onDecode(e){this.discount.qrcode=e},getDiscount(){console.log(this.discount),this.bill.fee="50";const e=this.$refs.discountModal;e&&new bootstrap.Modal(e).hide(),this.search()}},mounted(){this.search()}},w=s("header",null,[s("div",{class:"bg-dark text-white text-center py-3"},"停車費折抵")],-1),C={class:"container mt-2"},D={class:"plate-img"},k={class:"bill p-4"},S={class:"border-bottom"},Q=s("p",{class:"text-secondary"},"應繳金額",-1),V={class:"text-center"},I={class:"fs-3"},q={class:"mt-2"},B={class:"text-secondary"},N={class:"text-primary"},F={class:"text-secondary"},j={class:"text-primary"},z={key:0,class:"warningInfo"},T=s("p",{class:"text-success fs-6 mt-1"},[s("img",{src:g,alt:"info-icon"}),i(" 無需繳費，請儘速離場，謝謝！")],-1),E=[T],U={class:"btns d-flex justify-content-around"},A={class:"modal",tabindex:"-1",id:"discountModal",ref:"discountModal"},R={class:"modal-dialog modal-sm modal-dialog-centered"},W={class:"modal-content"},G={class:"modal-body"},H=s("br",null,null,-1),J={key:0,class:"scan d-flex flex-column align-items-center"},K={class:"stream"},L=s("div",{style:{color:"red"},class:"frame"},null,-1),O={key:1},P={class:"mb-3"},X=s("label",{for:"exampleFormControlInput1",class:"form-label"},[i("折扣券號碼或發票號碼"),s("span",{class:"text-danger"},"*")],-1),Y={class:"mb-3"},Z=s("label",{for:"exampleFormControlInput1",class:"form-label"},"發票金額",-1),$=s("small",{class:"text-secondary"},"若為折扣券，則金額請輸入 0",-1),ss={class:"modal-footer"},ts={class:"d-flex justify-content-between"},os={class:"d-flex justify-content-between"},es=s("button",{type:"button",class:"btn btn-sm btn-outline-secondary me-1","data-bs-dismiss":"modal"},"取消",-1);function ns(e,o,ls,cs,t,l){const u=b("qr-stream");return a(),d(v,null,[w,s("div",C,[s("div",D,c(t.bill.plate),1),s("section",k,[s("section",S,[Q,s("p",V,[i("NT$ "),s("span",I,c(t.bill.fee),1)])]),s("section",q,[s("p",B,[i("停車地點"),s("span",N,"　"+c(t.bill.station),1)]),s("p",F,[i("進場時間"),s("span",j,"　"+c(t.bill.arr_time),1)])]),t.bill.fee==0?(a(),d("div",z,E)):h("",!0),s("div",U,[s("button",{class:"btn btn-primary",id:"toggleMyModal",onClick:o[0]||(o[0]=(...n)=>l.openModal&&l.openModal(...n))},"發票折抵"),s("button",{class:f(["btn",t.bill.fee==0?"btn-secondary":"btn-primary"])},"繳費離場",2)]),s("div",A,[s("div",R,[s("div",W,[s("div",G,[i(c(t.discount)+" ",1),H,t.isScan?(a(),d("div",J,[s("div",K,[x(u,{onDecode:l.onDecode,class:"mb"},{default:y(()=>[L]),_:1},8,["onDecode"])])])):(a(),d("div",O,[s("div",P,[X,_(s("input",{type:"text",class:"form-control",id:"discountQrcode",placeholder:"請輸入折扣券號碼或發票號碼","onUpdate:modelValue":o[1]||(o[1]=n=>t.discount.qrcode=n)},null,512),[[m,t.discount.qrcode]])]),s("div",Y,[Z,_(s("input",{type:"text",class:"form-control",id:"discountAmount",placeholder:"請輸入發票金額","onUpdate:modelValue":o[2]||(o[2]=n=>t.discount.amount=n)},null,512),[[m,t.discount.amount]]),$])]))]),s("div",ss,[s("div",ts,[s("button",{class:"btn btn-primary me-4",onClick:o[3]||(o[3]=(...n)=>l.scanInput&&l.scanInput(...n))},c(t.isScan?"手動輸入":"掃描輸入"),1),s("div",os,[es,s("button",{type:"button",class:"btn btn-sm btn-outline-primary",onClick:o[4]||(o[4]=n=>l.getDiscount())},"確認")])])])])])],512)])])],64)}const as=p(M,[["render",ns]]);export{as as default};
